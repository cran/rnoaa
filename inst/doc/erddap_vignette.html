<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<title>ERDDAP vignette</title>

<script type="text/javascript">
window.onload = function() {
  var imgs = document.getElementsByTagName('img'), i, img;
  for (i = 0; i < imgs.length; i++) {
    img = imgs[i];
    // center an image if it is the only element of its parent
    if (img.parentElement.childElementCount === 1)
      img.parentElement.style.textAlign = 'center';
  }
};
</script>

<!-- Styles for R syntax highlighter -->
<style type="text/css">
   pre .operator,
   pre .paren {
     color: rgb(104, 118, 135)
   }

   pre .literal {
     color: #990073
   }

   pre .number {
     color: #099;
   }

   pre .comment {
     color: #998;
     font-style: italic
   }

   pre .keyword {
     color: #900;
     font-weight: bold
   }

   pre .identifier {
     color: rgb(0, 0, 0);
   }

   pre .string {
     color: #d14;
   }
</style>

<!-- R syntax highlighter -->
<script type="text/javascript">
var hljs=new function(){function m(p){return p.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function f(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function b(r){for(var p=0;p<r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&&q.nodeValue.match(/\s+/))){break}}}function h(t,s){var p="";for(var r=0;r<t.childNodes.length;r++){if(t.childNodes[r].nodeType==3){var q=t.childNodes[r].nodeValue;if(s){q=q.replace(/\n/g,"")}p+=q}else{if(t.childNodes[r].nodeName=="BR"){p+="\n"}else{p+=h(t.childNodes[r])}}}if(/MSIE [678]/.test(navigator.userAgent)){p=p.replace(/\r/g,"\n")}return p}function a(s){var r=s.className.split(/\s+/);r=r.concat(s.parentNode.className.split(/\s+/));for(var q=0;q<r.length;q++){var p=r[q].replace(/^language-/,"");if(e[p]){return p}}}function c(q){var p=[];(function(s,t){for(var r=0;r<s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{if(s.childNodes[r].nodeType==1){p.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);p.push({event:"stop",offset:t,node:s.childNodes[r]})}}}}return t})(q,0);return p}function k(y,w,x){var q=0;var z="";var s=[];function u(){if(y.length&&w.length){if(y[0].offset!=w[0].offset){return(y[0].offset<w[0].offset)?y:w}else{return w[0].event=="start"?y:w}}else{return y.length?y:w}}function t(D){var A="<"+D.nodeName.toLowerCase();for(var B=0;B<D.attributes.length;B++){var C=D.attributes[B];A+=" "+C.nodeName.toLowerCase();if(C.value!==undefined&&C.value!==false&&C.value!==null){A+='="'+m(C.value)+'"'}}return A+">"}while(y.length||w.length){var v=u().splice(0,1)[0];z+=m(x.substr(q,v.offset-q));q=v.offset;if(v.event=="start"){z+=t(v.node);s.push(v.node)}else{if(v.event=="stop"){var p,r=s.length;do{r--;p=s[r];z+=("</"+p.nodeName.toLowerCase()+">")}while(p!=v.node);s.splice(r,1);while(r<s.length){z+=t(s[r]);r++}}}}return z+m(x.substr(q))}function j(){function q(x,y,v){if(x.compiled){return}var u;var s=[];if(x.k){x.lR=f(y,x.l||hljs.IR,true);for(var w in x.k){if(!x.k.hasOwnProperty(w)){continue}if(x.k[w] instanceof Object){u=x.k[w]}else{u=x.k;w="keyword"}for(var r in u){if(!u.hasOwnProperty(r)){continue}x.k[r]=[w,u[r]];s.push(r)}}}if(!v){if(x.bWK){x.b="\\b("+s.join("|")+")\\s"}x.bR=f(y,x.b?x.b:"\\B|\\b");if(!x.e&&!x.eW){x.e="\\B|\\b"}if(x.e){x.eR=f(y,x.e)}}if(x.i){x.iR=f(y,x.i)}if(x.r===undefined){x.r=1}if(!x.c){x.c=[]}x.compiled=true;for(var t=0;t<x.c.length;t++){if(x.c[t]=="self"){x.c[t]=x}q(x.c[t],y,false)}if(x.starts){q(x.starts,y,false)}}for(var p in e){if(!e.hasOwnProperty(p)){continue}q(e[p].dM,e[p],true)}}function d(B,C){if(!j.called){j();j.called=true}function q(r,M){for(var L=0;L<M.c.length;L++){if((M.c[L].bR.exec(r)||[null])[0]==r){return M.c[L]}}}function v(L,r){if(D[L].e&&D[L].eR.test(r)){return 1}if(D[L].eW){var M=v(L-1,r);return M?M+1:0}return 0}function w(r,L){return L.i&&L.iR.test(r)}function K(N,O){var M=[];for(var L=0;L<N.c.length;L++){M.push(N.c[L].b)}var r=D.length-1;do{if(D[r].e){M.push(D[r].e)}r--}while(D[r+1].eW);if(N.i){M.push(N.i)}return f(O,M.join("|"),true)}function p(M,L){var N=D[D.length-1];if(!N.t){N.t=K(N,E)}N.t.lastIndex=L;var r=N.t.exec(M);return r?[M.substr(L,r.index-L),r[0],false]:[M.substr(L),"",true]}function z(N,r){var L=E.cI?r[0].toLowerCase():r[0];var M=N.k[L];if(M&&M instanceof Array){return M}return false}function F(L,P){L=m(L);if(!P.k){return L}var r="";var O=0;P.lR.lastIndex=0;var M=P.lR.exec(L);while(M){r+=L.substr(O,M.index-O);var N=z(P,M);if(N){x+=N[1];r+='<span class="'+N[0]+'">'+M[0]+"</span>"}else{r+=M[0]}O=P.lR.lastIndex;M=P.lR.exec(L)}return r+L.substr(O,L.length-O)}function J(L,M){if(M.sL&&e[M.sL]){var r=d(M.sL,L);x+=r.keyword_count;return r.value}else{return F(L,M)}}function I(M,r){var L=M.cN?'<span class="'+M.cN+'">':"";if(M.rB){y+=L;M.buffer=""}else{if(M.eB){y+=m(r)+L;M.buffer=""}else{y+=L;M.buffer=r}}D.push(M);A+=M.r}function G(N,M,Q){var R=D[D.length-1];if(Q){y+=J(R.buffer+N,R);return false}var P=q(M,R);if(P){y+=J(R.buffer+N,R);I(P,M);return P.rB}var L=v(D.length-1,M);if(L){var O=R.cN?"</span>":"";if(R.rE){y+=J(R.buffer+N,R)+O}else{if(R.eE){y+=J(R.buffer+N,R)+O+m(M)}else{y+=J(R.buffer+N+M,R)+O}}while(L>1){O=D[D.length-2].cN?"</span>":"";y+=O;L--;D.length--}var r=D[D.length-1];D.length--;D[D.length-1].buffer="";if(r.starts){I(r.starts,"")}return R.rE}if(w(M,R)){throw"Illegal"}}var E=e[B];var D=[E.dM];var A=0;var x=0;var y="";try{var s,u=0;E.dM.buffer="";do{s=p(C,u);var t=G(s[0],s[1],s[2]);u+=s[0].length;if(!t){u+=s[1].length}}while(!s[2]);if(D.length>1){throw"Illegal"}return{r:A,keyword_count:x,value:y}}catch(H){if(H=="Illegal"){return{r:0,keyword_count:0,value:m(C)}}else{throw H}}}function g(t){var p={keyword_count:0,r:0,value:m(t)};var r=p;for(var q in e){if(!e.hasOwnProperty(q)){continue}var s=d(q,t);s.language=q;if(s.keyword_count+s.r>r.keyword_count+r.r){r=s}if(s.keyword_count+s.r>p.keyword_count+p.r){r=p;p=s}}if(r.language){p.second_best=r}return p}function i(r,q,p){if(q){r=r.replace(/^((<[^>]+>|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"<br>")}return r}function n(t,w,r){var x=h(t,r);var v=a(t);var y,s;if(v){y=d(v,x)}else{return}var q=c(t);if(q.length){s=document.createElement("pre");s.innerHTML=y.value;y.value=k(q,c(s),x)}y.value=i(y.value,w,r);var u=t.className;if(!u.match("(\\s|^)(language-)?"+v+"(\\s|$)")){u=u?(u+" "+v):v}if(/MSIE [678]/.test(navigator.userAgent)&&t.tagName=="CODE"&&t.parentNode.tagName=="PRE"){s=t.parentNode;var p=document.createElement("div");p.innerHTML="<pre><code>"+y.value+"</code></pre>";t=p.firstChild.firstChild;p.firstChild.cN=s.cN;s.parentNode.replaceChild(p.firstChild,s)}else{t.innerHTML=y.value}t.className=u;t.result={language:v,kw:y.keyword_count,re:y.r};if(y.second_best){t.second_best={language:y.second_best.language,kw:y.second_best.keyword_count,re:y.second_best.r}}}function o(){if(o.called){return}o.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p<r.length;p++){var q=b(r[p]);if(q){n(q,hljs.tabReplace)}}}function l(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",o,false);window.addEventListener("load",o,false)}else{if(window.attachEvent){window.attachEvent("onload",o)}else{window.onload=o}}}var e={};this.LANGUAGES=e;this.highlight=d;this.highlightAuto=g;this.fixMarkup=i;this.highlightBlock=n;this.initHighlighting=o;this.initHighlightingOnLoad=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ER="(?![\\s\\S])";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(r,s){var p={};for(var q in r){p[q]=r[q]}if(s){for(var q in s){p[q]=s[q]}}return p}}();hljs.LANGUAGES.cpp=function(){var a={keyword:{"false":1,"int":1,"float":1,"while":1,"private":1,"char":1,"catch":1,"export":1,virtual:1,operator:2,sizeof:2,dynamic_cast:2,typedef:2,const_cast:2,"const":1,struct:1,"for":1,static_cast:2,union:1,namespace:1,unsigned:1,"long":1,"throw":1,"volatile":2,"static":1,"protected":1,bool:1,template:1,mutable:1,"if":1,"public":1,friend:2,"do":1,"return":1,"goto":1,auto:1,"void":2,"enum":1,"else":1,"break":1,"new":1,extern:1,using:1,"true":1,"class":1,asm:1,"case":1,typeid:1,"short":1,reinterpret_cast:2,"default":1,"double":1,register:1,explicit:1,signed:1,typename:1,"try":1,"this":1,"switch":1,"continue":1,wchar_t:1,inline:1,"delete":1,alignof:1,char16_t:1,char32_t:1,constexpr:1,decltype:1,noexcept:1,nullptr:1,static_assert:1,thread_local:1,restrict:1,_Bool:1,complex:1},built_in:{std:1,string:1,cin:1,cout:1,cerr:1,clog:1,stringstream:1,istringstream:1,ostringstream:1,auto_ptr:1,deque:1,list:1,queue:1,stack:1,vector:1,map:1,set:1,bitset:1,multiset:1,multimap:1,unordered_set:1,unordered_map:1,unordered_multiset:1,unordered_multimap:1,array:1,shared_ptr:1}};return{dM:{k:a,i:"</",c:[hljs.CLCM,hljs.CBLCLM,hljs.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},hljs.CNM,{cN:"preprocessor",b:"#",e:"$"},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:a,r:10,c:["self"]}]}}}();hljs.LANGUAGES.r={dM:{c:[hljs.HCM,{cN:"number",b:"\\b0[xX][0-9a-fA-F]+[Li]?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+(?:[eE][+\\-]?\\d*)?L\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+\\.(?!\\d)(?:i\\b)?",e:hljs.IMMEDIATE_RE,r:1},{cN:"number",b:"\\b\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"keyword",b:"(?:tryCatch|library|setGeneric|setGroupGeneric)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\.",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\d+(?![\\w.])",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\b(?:function)",e:hljs.IMMEDIATE_RE,r:2},{cN:"keyword",b:"(?:if|in|break|next|repeat|else|for|return|switch|while|try|stop|warning|require|attach|detach|source|setMethod|setClass)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"literal",b:"(?:NA|NA_integer_|NA_real_|NA_character_|NA_complex_)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"literal",b:"(?:NULL|TRUE|FALSE|T|F|Inf|NaN)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"identifier",b:"[a-zA-Z.][a-zA-Z0-9._]*\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"<\\-(?!\\s*\\d)",e:hljs.IMMEDIATE_RE,r:2},{cN:"operator",b:"\\->|<\\-",e:hljs.IMMEDIATE_RE,r:1},{cN:"operator",b:"%%|~",e:hljs.IMMEDIATE_RE},{cN:"operator",b:">=|<=|==|!=|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||\\$|:",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"%",e:"%",i:"\\n",r:1},{cN:"identifier",b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE],r:0},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"paren",b:"[[({\\])}]",e:hljs.IMMEDIATE_RE,r:0}]}};
hljs.initHighlightingOnLoad();
</script>



<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 13px;
}

body {
  max-width: 800px;
  margin: auto;
  padding: 1em;
  line-height: 20px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 {
   font-size:2.2em;
}

h2 {
   font-size:1.8em;
}

h3 {
   font-size:1.4em;
}

h4 {
   font-size:1.0em;
}

h5 {
   font-size:0.9em;
}

h6 {
   font-size:0.8em;
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre, img {
  max-width: 100%;
}
pre {
  overflow-x: auto;
}
pre code {
   display: block; padding: 0.5em;
}

code {
  font-size: 92%;
  border: 1px solid #ccc;
}

code[class] {
  background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * {
      background: transparent !important;
      color: black !important;
      filter:none !important;
      -ms-filter: none !important;
   }

   body {
      font-size:12pt;
      max-width:100%;
   }

   a, a:visited {
      text-decoration: underline;
   }

   hr {
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote {
      padding-right: 1em;
      page-break-inside: avoid;
   }

   tr, img {
      page-break-inside: avoid;
   }

   img {
      max-width: 100% !important;
   }

   @page :left {
      margin: 15mm 20mm 15mm 10mm;
   }

   @page :right {
      margin: 15mm 10mm 15mm 20mm;
   }

   p, h2, h3 {
      orphans: 3; widows: 3;
   }

   h2, h3 {
      page-break-after: avoid;
   }
}
</style>



</head>

<body>
<!--
%\VignetteEngine{knitr::knitr}
%\VignetteIndexEntry{ERDDAP vignette}
-->

<h1>ERDDAP vignette</h1>

<p>ERDDAP gives a simple, consistent way to download subsets of gridded and tabular scientific datasets in common file formats and make graphs and maps. This ERDDAP installation has oceanographic data (for example, data from satellites and buoys).</p>

<p>Find out more about ERDDAP at <a href="http://coastwatch.pfeg.noaa.gov/erddap/index.html">http://coastwatch.pfeg.noaa.gov/erddap/index.html</a>.</p>

<h2>Load rnoaa</h2>

<pre><code class="r">library(&#39;rnoaa&#39;)
</code></pre>

<h2>Passing the datasetid without fields gives all columns back</h2>

<pre><code class="r">erddap_table(&#39;erdCalCOFIfshsiz&#39;)
#&gt; &lt;NOAA ERDDAP tabledap&gt; erdCalCOFIfshsiz
#&gt;    Path: [/Users/sacmac/.rnoaa/erddap/f18cc75d8bf5ca831a96f42486a7bd5d.csv]
#&gt;    Last updated: [2014-12-19 15:47:55]
#&gt;    File size:    [4.6 MB]
#&gt;    Dimensions:   [20939 X 24]
#&gt; 
#&gt;    cruise               ship ship_code order_occupied   tow_type net_type
#&gt; 2  199104 DAVID STARR JORDAN        JD              1 MOCNESS_1m       M1
#&gt; 3  199104 DAVID STARR JORDAN        JD              2 MOCNESS_1m       M1
#&gt; 4  199104 DAVID STARR JORDAN        JD              2 MOCNESS_1m       M1
#&gt; 5  199104 DAVID STARR JORDAN        JD              2 MOCNESS_1m       M1
#&gt; 6  199104 DAVID STARR JORDAN        JD              4 MOCNESS_1m       M1
#&gt; 7  199104 DAVID STARR JORDAN        JD              5 MOCNESS_1m       M1
#&gt; 8  199104 DAVID STARR JORDAN        JD              6 MOCNESS_1m       M1
#&gt; 9  199104 DAVID STARR JORDAN        JD              7 MOCNESS_1m       M1
#&gt; 10 199104 DAVID STARR JORDAN        JD             11 MOCNESS_1m       M1
#&gt; 11 199104 DAVID STARR JORDAN        JD             32 MOCNESS_1m       M1
#&gt; ..    ...                ...       ...            ...        ...      ...
#&gt; Variables not shown: tow_number (int), net_location (chr),
#&gt;      standard_haul_factor (dbl), volume_sampled (chr), percent_sorted
#&gt;      (chr), sample_quality (dbl), latitude (chr), longitude (chr), line
#&gt;      (dbl), station (dbl), time (chr), scientific_name (chr), common_name
#&gt;      (chr), itis_tsn (int), calcofi_species_code (int), fish_size (chr),
#&gt;      fish_count (dbl), fish_1000m3 (chr)
</code></pre>

<h2>Pass time constraints</h2>

<pre><code class="r">erddap_table(&#39;erdCalCOFIfshsiz&#39;, &#39;time&gt;=2001-07-07&#39;, &#39;time&lt;=2001-07-08&#39;)
#&gt; &lt;NOAA ERDDAP tabledap&gt; erdCalCOFIfshsiz
#&gt;    Path: [/Users/sacmac/.rnoaa/erddap/9e5119eb5c8ed63b9619be1367b0344c.csv]
#&gt;    Last updated: [2014-12-19 18:07:32]
#&gt;    File size:    [0.05 MB]
#&gt;    Dimensions:   [217 X 24]
#&gt; 
#&gt;    cruise               ship ship_code order_occupied    tow_type net_type
#&gt; 2  200106 DAVID STARR JORDAN        JD             43 MOCNESS_10m       M2
#&gt; 3  200106 DAVID STARR JORDAN        JD             43 MOCNESS_10m       M2
#&gt; 4  200106 DAVID STARR JORDAN        JD             43 MOCNESS_10m       M2
#&gt; 5  200106 DAVID STARR JORDAN        JD             43 MOCNESS_10m       M2
#&gt; 6  200106 DAVID STARR JORDAN        JD             43 MOCNESS_10m       M2
#&gt; 7  200106 DAVID STARR JORDAN        JD             43 MOCNESS_10m       M2
#&gt; 8  200106 DAVID STARR JORDAN        JD             43 MOCNESS_10m       M2
#&gt; 9  200106 DAVID STARR JORDAN        JD             43 MOCNESS_10m       M2
#&gt; 10 200106 DAVID STARR JORDAN        JD             43 MOCNESS_10m       M2
#&gt; 11 200106 DAVID STARR JORDAN        JD             43 MOCNESS_10m       M2
#&gt; ..    ...                ...       ...            ...         ...      ...
#&gt; Variables not shown: tow_number (int), net_location (chr),
#&gt;      standard_haul_factor (dbl), volume_sampled (chr), percent_sorted
#&gt;      (chr), sample_quality (dbl), latitude (chr), longitude (chr), line
#&gt;      (dbl), station (dbl), time (chr), scientific_name (chr), common_name
#&gt;      (chr), itis_tsn (int), calcofi_species_code (int), fish_size (chr),
#&gt;      fish_count (dbl), fish_1000m3 (chr)
</code></pre>

<h2>Pass in fields (i.e., columns to retrieve) &amp; time constraints</h2>

<pre><code class="r">erddap_table(&#39;erdCalCOFIfshsiz&#39;, fields=c(&#39;longitude&#39;,&#39;latitude&#39;,&#39;fish_size&#39;,&#39;itis_tsn&#39;), &#39;time&gt;=2001-07-07&#39;,&#39;time&lt;=2001-07-10&#39;)
#&gt; &lt;NOAA ERDDAP tabledap&gt; erdCalCOFIfshsiz
#&gt;    Path: [/Users/sacmac/.rnoaa/erddap/7b04d4ddfe4ad3540ec6213129fa050c.csv]
#&gt;    Last updated: [2014-12-19 18:07:47]
#&gt;    File size:    [0.02 MB]
#&gt;    Dimensions:   [558 X 4]
#&gt; 
#&gt;     longitude  latitude fish_size itis_tsn
#&gt; 2     -118.26    33.255      22.9   623745
#&gt; 3     -118.26    33.255      22.9   623745
#&gt; 4  -118.10667 32.738335      31.5   623625
#&gt; 5  -118.10667 32.738335      48.3   623625
#&gt; 6  -118.10667 32.738335      15.5   162221
#&gt; 7  -118.10667 32.738335      16.3   162221
#&gt; 8  -118.10667 32.738335      17.8   162221
#&gt; 9  -118.10667 32.738335      18.2   162221
#&gt; 10 -118.10667 32.738335      19.2   162221
#&gt; 11 -118.10667 32.738335      20.0   162221
#&gt; ..        ...       ...       ...      ...
</code></pre>

<pre><code class="r">erddap_table(&#39;erdCinpKfmBT&#39;, fields=c(&#39;latitude&#39;,&#39;longitude&#39;,&#39;Aplysia_californica_Mean_Density&#39;,&#39;Muricea_californica_Mean_Density&#39;), &#39;time&gt;=2007-06-24&#39;,&#39;time&lt;=2007-07-01&#39;)
#&gt; &lt;NOAA ERDDAP tabledap&gt; erdCinpKfmBT
#&gt;    Path: [/Users/sacmac/.rnoaa/erddap/681451f3fee8ee9e426012609975a89e.csv]
#&gt;    Last updated: [2014-12-19 18:08:22]
#&gt;    File size:    [1.49 KB]
#&gt;    Dimensions:   [37 X 4]
#&gt; 
#&gt;            latitude         longitude Aplysia_californica_Mean_Density
#&gt; 2              34.0 -119.416666666667                      0.009722223
#&gt; 3              34.0 -119.383333333333                              0.0
#&gt; 4              34.0 -119.366666666667                              0.0
#&gt; 5              34.0 -119.383333333333                             0.16
#&gt; 6              34.0 -119.416666666667                             0.03
#&gt; 7  34.0166666666667           -119.35                              0.0
#&gt; 8              34.0           -119.35                      0.008333334
#&gt; 9              33.0 -118.533333333333                              NaN
#&gt; 10            32.95 -118.533333333333                              NaN
#&gt; 11             32.8            -118.4                              NaN
#&gt; ..              ...               ...                              ...
#&gt; Variables not shown: Muricea_californica_Mean_Density (chr)
</code></pre>

<h2>An example workflow</h2>

<p>Search for data</p>

<pre><code class="r">(out &lt;- erddap_search(query=&#39;size&#39;))
#&gt; 6 results, showing first 20 
#&gt;                                                            title
#&gt; 11               NOAA Global Coral Bleaching Monitoring Products
#&gt; 12        Coawst 4 use, Best Time Series [time][eta_rho][xi_rho]
#&gt; 13            Coawst 4 use, Best Time Series [time][eta_u][xi_u]
#&gt; 14            Coawst 4 use, Best Time Series [time][eta_v][xi_v]
#&gt; 15 Coawst 4 use, Best Time Series [time][s_rho][eta_rho][xi_rho]
#&gt; 16  Coawst 4 use, Best Time Series [time][Nbed][eta_rho][xi_rho]
#&gt;             dataset_id
#&gt; 11            NOAA_DHW
#&gt; 12 whoi_ed12_89ce_9592
#&gt; 13 whoi_61c3_0b5d_cd61
#&gt; 14 whoi_62d0_9d64_c8ff
#&gt; 15 whoi_7dd7_db97_4bbe
#&gt; 16 whoi_a4fb_2c9c_16a7
</code></pre>

<p>Or, list datasets</p>

<pre><code class="r">tdp &lt;- erddap_datasets(&#39;table&#39;)
</code></pre>

<p>Using a datasetid, search for information on a datasetid</p>

<pre><code class="r">id &lt;- as.character(tdp$Dataset.ID[8])
erddap_info(id)$variables
#&gt;               variable_name data_type     actual_range
#&gt; 1                      cndc     float                 
#&gt; 2             cndc_adjusted     float                 
#&gt; 3       cndc_adjusted_error     float                 
#&gt; 4          cndc_adjusted_qc     float                 
#&gt; 5                   cndc_qc     float                 
#&gt; 6                      doxy     float                 
#&gt; 7             doxy_adjusted     float                 
#&gt; 8       doxy_adjusted_error     float                 
#&gt; 9          doxy_adjusted_qc     float                 
#&gt; 10                  doxy_qc     float                 
#&gt; 11                       id       int                 
#&gt; 12                 latitude     float      -90.0, 90.0
#&gt; 13                longitude     float       0.0, 360.0
#&gt; 14                     pres     float                 
#&gt; 15            pres_adjusted     float                 
#&gt; 16      pres_adjusted_error     float                 
#&gt; 17         pres_adjusted_qc     float                 
#&gt; 18                  pres_qc     float                 
#&gt; 19                     psal     float                 
#&gt; 20            psal_adjusted     float                 
#&gt; 21      psal_adjusted_error     float                 
#&gt; 22         psal_adjusted_qc     float                 
#&gt; 23                  psal_qc     float                 
#&gt; 24                     temp     float                 
#&gt; 25            temp_adjusted     float                 
#&gt; 26      temp_adjusted_error     float                 
#&gt; 27         temp_adjusted_qc     float                 
#&gt; 28                temp_doxy     float                 
#&gt; 29       temp_doxy_adjusted     float                 
#&gt; 30 temp_doxy_adjusted_error     float                 
#&gt; 31    temp_doxy_adjusted_qc     float                 
#&gt; 32             temp_doxy_qc     float                 
#&gt; 33                  temp_qc     float                 
#&gt; 34                     time    double 8.1048066E8, NaN
</code></pre>

<p>Get data from the dataset</p>

<pre><code class="r">erddap_table(id, fields = c(&#39;latitude&#39;,&#39;longitude&#39;))
#&gt; &lt;NOAA ERDDAP tabledap&gt; apdrcArgoAll
#&gt;    Path: [/Users/sacmac/.rnoaa/erddap/7b238871e478bf43df2e1f703e6e85e5.csv]
#&gt;    Last updated: [2014-12-19 18:15:39]
#&gt;    File size:    [0.07 MB]
#&gt;    Dimensions:   [5000 X 2]
#&gt; 
#&gt;    latitude longitude
#&gt; 2    49.868   215.335
#&gt; 3    50.023    215.47
#&gt; 4    50.115   215.676
#&gt; 5    50.156   215.676
#&gt; 6    50.132   215.601
#&gt; 7      50.1   215.544
#&gt; 8    50.158   215.582
#&gt; 9    50.278   215.585
#&gt; 10   50.417   215.702
#&gt; 11   50.548   215.779
#&gt; ..      ...       ...
</code></pre>

<h2>Time constraint</h2>

<p>Limit by time with date only</p>

<pre><code class="r">erddap_table(id, fields = c(&#39;latitude&#39;,&#39;longitude&#39;,&#39;time&#39;), &#39;time&gt;=2001-07-14&#39;, &#39;time&lt;=2001-09-14&#39;)
#&gt; &lt;NOAA ERDDAP tabledap&gt; apdrcArgoAll
#&gt;    Path: [/Users/sacmac/.rnoaa/erddap/d449b321be463619aab879c8ca2e40e7.csv]
#&gt;    Last updated: [2014-12-19 18:22:51]
#&gt;    File size:    [0.05 MB]
#&gt;    Dimensions:   [1490 X 3]
#&gt; 
#&gt;    latitude longitude                 time
#&gt; 2    75.005     0.583 2001-07-14T04:29:00Z
#&gt; 3    73.819     1.418 2001-07-14T01:01:59Z
#&gt; 4   -24.702    106.08 2001-07-14T00:33:23Z
#&gt; 5   -12.953   108.299 2001-07-14T04:23:12Z
#&gt; 6     4.943   164.673 2001-07-14T18:36:46Z
#&gt; 7    -4.769   189.924 2001-07-14T21:49:35Z
#&gt; 8    11.312   195.319 2001-07-14T06:15:47Z
#&gt; 9    48.906   229.489 2001-07-14T14:50:00Z
#&gt; 10   -10.93   235.776 2001-07-14T08:47:12Z
#&gt; 11   11.672   264.219 2001-07-14T05:31:14Z
#&gt; ..      ...       ...                  ...
</code></pre>

<h2>Use distinct parameter</h2>

<pre><code class="r">erddap_table(&#39;erdCalCOFIfshsiz&#39;, fields=c(&#39;longitude&#39;,&#39;latitude&#39;,&#39;fish_size&#39;,&#39;itis_tsn&#39;), &#39;time&gt;=2001-07-07&#39;,&#39;time&lt;=2001-07-10&#39;, distinct=TRUE)
#&gt; &lt;NOAA ERDDAP tabledap&gt; erdCalCOFIfshsiz
#&gt;    Path: [/Users/sacmac/.rnoaa/erddap/e05d5adb0fecd3bb2276c920e1bd2457.csv]
#&gt;    Last updated: [2014-12-19 18:16:09]
#&gt;    File size:    [0.02 MB]
#&gt;    Dimensions:   [518 X 4]
#&gt; 
#&gt;     longitude  latitude fish_size itis_tsn
#&gt; 2  -118.74333 32.873333      14.2   162584
#&gt; 3  -118.74333 32.873333      15.0   162221
#&gt; 4  -118.74333 32.873333      15.2   170085
#&gt; 5  -118.74333 32.873333      17.2   162221
#&gt; 6  -118.74333 32.873333      18.3   162221
#&gt; 7  -118.74333 32.873333      18.7   170085
#&gt; 8  -118.74333 32.873333      20.0   162664
#&gt; 9  -118.74333 32.873333      20.2   162664
#&gt; 10 -118.74333 32.873333      20.4   623745
#&gt; 11 -118.74333 32.873333      23.1   623745
#&gt; ..        ...       ...       ...      ...
</code></pre>

<h2>The units parameter</h2>

<p>In this example, values are the same, but sometimes they can be different given the units value passed</p>

<pre><code class="r">erddap_table(&#39;erdCinpKfmT&#39;, fields=c(&#39;longitude&#39;,&#39;latitude&#39;,&#39;time&#39;,&#39;temperature&#39;), &#39;time&gt;=2007-09-19&#39;, &#39;time&lt;=2007-09-21&#39;, units=&#39;udunits&#39;)
#&gt; &lt;NOAA ERDDAP tabledap&gt; erdCinpKfmT
#&gt;    Path: [/Users/sacmac/.rnoaa/erddap/d1aaf6eca896d080b1c2251f7a8cec17.csv]
#&gt;    Last updated: [2014-12-19 18:16:21]
#&gt;    File size:    [2.18 KB]
#&gt;    Dimensions:   [48 X 4]
#&gt; 
#&gt;    longitude  latitude                 time temperature
#&gt; 2     -120.1 33.883335 2007-09-19T00:13:00Z       16.22
#&gt; 3     -120.1 33.883335 2007-09-19T01:13:00Z       16.38
#&gt; 4     -120.1 33.883335 2007-09-19T02:13:00Z       16.38
#&gt; 5     -120.1 33.883335 2007-09-19T03:13:00Z       16.38
#&gt; 6     -120.1 33.883335 2007-09-19T04:13:00Z       14.48
#&gt; 7     -120.1 33.883335 2007-09-19T05:13:00Z       13.86
#&gt; 8     -120.1 33.883335 2007-09-19T06:13:00Z       13.55
#&gt; 9     -120.1 33.883335 2007-09-19T07:13:00Z       13.24
#&gt; 10    -120.1 33.883335 2007-09-19T08:13:00Z       13.09
#&gt; 11    -120.1 33.883335 2007-09-19T09:13:00Z       12.78
#&gt; ..       ...       ...                  ...         ...
</code></pre>

<pre><code class="r">erddap_table(&#39;erdCinpKfmT&#39;, fields=c(&#39;longitude&#39;,&#39;latitude&#39;,&#39;time&#39;,&#39;temperature&#39;), &#39;time&gt;=2007-09-19&#39;, &#39;time&lt;=2007-09-21&#39;, units=&#39;ucum&#39;)
#&gt; &lt;NOAA ERDDAP tabledap&gt; erdCinpKfmT
#&gt;    Path: [/Users/sacmac/.rnoaa/erddap/a53175d2b882b8054906b46d4efe8218.csv]
#&gt;    Last updated: [2014-12-19 18:16:34]
#&gt;    File size:    [2.17 KB]
#&gt;    Dimensions:   [48 X 4]
#&gt; 
#&gt;    longitude  latitude                 time temperature
#&gt; 2     -120.1 33.883335 2007-09-19T00:13:00Z       16.22
#&gt; 3     -120.1 33.883335 2007-09-19T01:13:00Z       16.38
#&gt; 4     -120.1 33.883335 2007-09-19T02:13:00Z       16.38
#&gt; 5     -120.1 33.883335 2007-09-19T03:13:00Z       16.38
#&gt; 6     -120.1 33.883335 2007-09-19T04:13:00Z       14.48
#&gt; 7     -120.1 33.883335 2007-09-19T05:13:00Z       13.86
#&gt; 8     -120.1 33.883335 2007-09-19T06:13:00Z       13.55
#&gt; 9     -120.1 33.883335 2007-09-19T07:13:00Z       13.24
#&gt; 10    -120.1 33.883335 2007-09-19T08:13:00Z       13.09
#&gt; 11    -120.1 33.883335 2007-09-19T09:13:00Z       12.78
#&gt; ..       ...       ...                  ...         ...
</code></pre>

<h2>The orderby parameter</h2>

<pre><code class="r">erddap_table(&#39;erdCinpKfmT&#39;, fields=c(&#39;longitude&#39;,&#39;latitude&#39;,&#39;time&#39;,&#39;temperature&#39;), &#39;time&gt;=2007-09-19&#39;, &#39;time&lt;=2007-09-21&#39;, orderby=&#39;temperature&#39;)
#&gt; &lt;NOAA ERDDAP tabledap&gt; erdCinpKfmT
#&gt;    Path: [/Users/sacmac/.rnoaa/erddap/9339183f5e454127988667d44e8fb0ca.csv]
#&gt;    Last updated: [2014-12-19 18:16:44]
#&gt;    File size:    [2.18 KB]
#&gt;    Dimensions:   [48 X 4]
#&gt; 
#&gt;    longitude  latitude                 time temperature
#&gt; 2     -120.1 33.883335 2007-09-20T12:13:00Z        12.0
#&gt; 3     -120.1 33.883335 2007-09-20T13:13:00Z        12.0
#&gt; 4     -120.1 33.883335 2007-09-20T14:13:00Z        12.0
#&gt; 5     -120.1 33.883335 2007-09-20T11:13:00Z       12.16
#&gt; 6     -120.1 33.883335 2007-09-20T15:13:00Z       12.16
#&gt; 7     -120.1 33.883335 2007-09-20T10:13:00Z       12.31
#&gt; 8     -120.1 33.883335 2007-09-20T16:13:00Z       12.31
#&gt; 9     -120.1 33.883335 2007-09-20T17:13:00Z       12.62
#&gt; 10    -120.1 33.883335 2007-09-19T09:13:00Z       12.78
#&gt; 11    -120.1 33.883335 2007-09-20T09:13:00Z       12.78
#&gt; ..       ...       ...                  ...         ...
</code></pre>

<h2>The orderbymax parameter</h2>

<pre><code class="r">erddap_table(&#39;erdCinpKfmT&#39;, fields=c(&#39;longitude&#39;,&#39;latitude&#39;,&#39;time&#39;,&#39;temperature&#39;), &#39;time&gt;=2007-09-19&#39;, &#39;time&lt;=2007-09-21&#39;, orderbymax=&#39;temperature&#39;)
#&gt; &lt;NOAA ERDDAP tabledap&gt; erdCinpKfmT
#&gt;    Path: [/Users/sacmac/.rnoaa/erddap/e6e6116b3870afc9c093f6dab56ce6ba.csv]
#&gt;    Last updated: [2014-12-19 18:16:53]
#&gt;    File size:    [0.12 KB]
#&gt;    Dimensions:   [1 X 4]
#&gt; 
#&gt;   longitude  latitude                 time temperature
#&gt; 2    -120.1 33.883335 2007-09-19T03:13:00Z       16.38
</code></pre>

<h2>The orderbymin parameter</h2>

<pre><code class="r">erddap_table(&#39;erdCinpKfmT&#39;, fields=c(&#39;longitude&#39;,&#39;latitude&#39;,&#39;time&#39;,&#39;temperature&#39;), &#39;time&gt;=2007-09-19&#39;, &#39;time&lt;=2007-09-21&#39;, orderbymin=&#39;temperature&#39;)
#&gt; &lt;NOAA ERDDAP tabledap&gt; erdCinpKfmT
#&gt;    Path: [/Users/sacmac/.rnoaa/erddap/04557d97f6ecec410b114fc90da503d1.csv]
#&gt;    Last updated: [2014-12-19 18:17:12]
#&gt;    File size:    [0.12 KB]
#&gt;    Dimensions:   [1 X 4]
#&gt; 
#&gt;   longitude  latitude                 time temperature
#&gt; 2    -120.1 33.883335 2007-09-20T12:13:00Z        12.0
</code></pre>

<h2>The orderbyminmax parameter</h2>

<pre><code class="r">erddap_table(&#39;erdCinpKfmT&#39;, fields=c(&#39;longitude&#39;,&#39;latitude&#39;,&#39;time&#39;,&#39;temperature&#39;), &#39;time&gt;=2007-09-19&#39;, &#39;time&lt;=2007-09-21&#39;, orderbyminmax=&#39;temperature&#39;)
#&gt; &lt;NOAA ERDDAP tabledap&gt; erdCinpKfmT
#&gt;    Path: [/Users/sacmac/.rnoaa/erddap/4bd33e3b4de0d050b250fbccfd436ab7.csv]
#&gt;    Last updated: [2014-12-19 18:17:15]
#&gt;    File size:    [0.16 KB]
#&gt;    Dimensions:   [2 X 4]
#&gt; 
#&gt;   longitude  latitude                 time temperature
#&gt; 2    -120.1 33.883335 2007-09-20T12:13:00Z        12.0
#&gt; 3    -120.1 33.883335 2007-09-19T03:13:00Z       16.38
</code></pre>

<h2>The orderbymin parameter with multiple values</h2>

<pre><code class="r">erddap_table(&#39;erdCinpKfmT&#39;, fields=c(&#39;longitude&#39;,&#39;latitude&#39;,&#39;time&#39;,&#39;depth&#39;,&#39;temperature&#39;), &#39;time&gt;=2007-06-10&#39;, &#39;time&lt;=2007-09-21&#39;, orderbymax=c(&#39;depth&#39;,&#39;temperature&#39;))
#&gt; &lt;NOAA ERDDAP tabledap&gt; erdCinpKfmT
#&gt;    Path: [/Users/sacmac/.rnoaa/erddap/e84ec03c5003845e4df2208ae39a975a.csv]
#&gt;    Last updated: [2014-12-19 18:17:24]
#&gt;    File size:    [0.61 KB]
#&gt;    Dimensions:   [11 X 5]
#&gt; 
#&gt;      longitude  latitude                 time depth temperature
#&gt; 2   -119.53333 34.033333 2007-08-07T02:40:00Z     5       20.54
#&gt; 3   -119.36667      34.0 2007-07-05T03:42:00Z     6       19.72
#&gt; 4      -119.35      34.0 2007-08-05T18:32:00Z     8       21.23
#&gt; 5   -119.51667 34.033333 2007-08-06T04:02:00Z     9       20.47
#&gt; 6   -120.13333      33.9 2007-08-04T22:34:00Z    10       19.35
#&gt; 7   -119.38333      34.0 2007-08-02T15:38:00Z    11       20.86
#&gt; 8  -120.183334 33.916668 2007-08-04T23:50:00Z    12       19.92
#&gt; 9       -119.6 34.033333 2007-08-08T02:47:00Z    13       20.43
#&gt; 10 -119.816666 33.933334 2007-07-17T02:21:00Z    15       18.47
#&gt; 11 -119.416664      34.0 2007-07-10T23:25:00Z    16       19.14
#&gt; ..         ...       ...                  ...   ...         ...
</code></pre>

<h2>Spatial delimitation</h2>

<pre><code class="r">erddap_table(&#39;erdCalCOFIfshsiz&#39;, fields = c(&#39;latitude&#39;,&#39;longitude&#39;,&#39;scientific_name&#39;), &#39;latitude&gt;=34.8&#39;, &#39;latitude&lt;=35&#39;, &#39;longitude&gt;=-125&#39;, &#39;longitude&lt;=-124&#39;)
#&gt; &lt;NOAA ERDDAP tabledap&gt; erdCalCOFIfshsiz
#&gt;    Path: [/Users/sacmac/.rnoaa/erddap/8137b5814735d58e2d939b33a975c1a9.csv]
#&gt;    Last updated: [2014-12-19 15:48:00]
#&gt;    File size:    [2.2 KB]
#&gt;    Dimensions:   [56 X 3]
#&gt; 
#&gt;     latitude longitude        scientific_name
#&gt; 2  34.881668   -124.48     Cyclothone atraria
#&gt; 3  34.881668   -124.48   Lipolagus ochotensis
#&gt; 4  34.881668   -124.48  Bathylagoides wesethi
#&gt; 5  34.881668   -124.48 Cyclothone acclinidens
#&gt; 6  34.881668   -124.48 Cyclothone acclinidens
#&gt; 7  34.881668   -124.48     Cyclothone signata
#&gt; 8  34.881668   -124.48     Cyclothone signata
#&gt; 9  34.881668   -124.48     Cyclothone signata
#&gt; 10 34.881668   -124.48     Cyclothone signata
#&gt; 11 34.881668   -124.48     Cyclothone signata
#&gt; ..       ...       ...                    ...
</code></pre>

<h2>Integrate with taxize</h2>

<pre><code class="r">out &lt;- erddap_table(&#39;erdCalCOFIfshsiz&#39;, fields = c(&#39;latitude&#39;,&#39;longitude&#39;,&#39;scientific_name&#39;,&#39;itis_tsn&#39;))
tsns &lt;- unique(out$itis_tsn[1:100])
library(&quot;taxize&quot;)
classif &lt;- classification(tsns, db = &quot;itis&quot;)
head(rbind(classif)); tail(rbind(classif))
#&gt;            name         rank     id  query   db
#&gt; 1      Animalia      Kingdom 202423 172887 itis
#&gt; 2     Bilateria   Subkingdom 914154 172887 itis
#&gt; 3 Deuterostomia Infrakingdom 914156 172887 itis
#&gt; 4      Chordata       Phylum 158852 172887 itis
#&gt; 5    Vertebrata    Subphylum 331030 172887 itis
#&gt; 6 Gnathostomata  Infraphylum 914179 172887 itis
#&gt;                   name     rank     id  query   db
#&gt; 161       Stomiiformes    Order 553138 162167 itis
#&gt; 162    Gonostomatoidei Suborder 553151 162167 itis
#&gt; 163     Gonostomatidae   Family 162163 162167 itis
#&gt; 164         Cyclothone    Genus 162164 162167 itis
#&gt; 165 Cyclothone pallida  Species 162167 162167 itis
#&gt; 166 Bathylagus wesethi  Species 162092 162092 itis
</code></pre>

</body>

</html>
